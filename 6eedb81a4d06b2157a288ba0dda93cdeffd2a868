{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f63a29e1_63235730",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "It could be good to get someone more familiar with native builds to eventually take a look too; I\u0027m familiar with the part about Bash and build servers though",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de5e3191_c4f23894",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Sounds good.  I\u0027m going to patch up the design doc (belatedly), and ask someone from build team to take a look.  Thanks!",
      "parentUuid": "f63a29e1_63235730",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "845052ee_84ae45ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Thanks for the thorough review, it hopefully left things more readable!",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc874cd9_69317612",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T20:54:38Z",
      "side": 1,
      "message": "Cool. It seems I only have permission to give a +1 but I think patchset #3 is good enough for a +1; hopefully whoever +2\u0027s it can also take a nontrivial look at it too.\n\nThanks",
      "parentUuid": "de5e3191_c4f23894",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a76db21_c85ea649",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-12T16:50:14Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "bc874cd9_69317612",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab62dada_0b4238d4",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "If we could simply use the same llvm as JetBrains, would that be interesting? Should we suggest to them that it would be neat for them to publish theirs?",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5ba4810_2c65979b",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Added comment.  They do publish theirs, but build team doesn\u0027t trust it, because it wasn\u0027t built from source (if I could have used theirs, this particular subproject would have been finished in Q3.)",
      "parentUuid": "ab62dada_0b4238d4",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "51732534_5921a0e4",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1010056
      },
      "writtenOn": "2021-11-10T21:07:05Z",
      "side": 1,
      "message": "It\u0027s not the build team. It\u0027s Google policy to not run or distribute software that we can\u0027t audit. We\u0027re expected to be able to reproduce the binaries that we run on developer machines, as well as those that would potentially run on customer machines.",
      "parentUuid": "b5ba4810_2c65979b",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "68942e80_6083087c",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-12T16:50:14Z",
      "side": 1,
      "message": "Good point, my language was imprecise there.",
      "parentUuid": "51732534_5921a0e4",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b28477e9_cae87e9b",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "adding `set -e` at the top should cause `bash` to halt as soon as any one of these commands fails",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a32daf0f_b1db1c64",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b28477e9_cae87e9b",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "188c5369_b02c2311",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "Does this rely on having cd\u0027d to `$SRC/kotlin-native-toolchain` before the clone on line #3? Does this require having already cloned some prebuilts to the path in line #6?\n\nIt might be simpler to set PREBUILTS as a relative path or to just remind people to check out the corresponding repo branch",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f7dc9072_a97263a5",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Added a comment, ultimately this is pseudo-bash, so hopefully it\u0027s enough to point people in the right direction.",
      "parentUuid": "188c5369_b02c2311",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab43a687_2534d674",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "This comment about the process being equivalent to what JetBrains does seems to duplicate line 1 about this coming from a command in the JetBrains repo, is it possible to shorten this text somehow?",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab3dec34_aac46258",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Hopefully the additional info at the top made this feel less repetitive.",
      "parentUuid": "ab43a687_2534d674",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1677b70_5f23004b",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "Maybe this comment about how the script works would be more interesting if moved closer to the invocation of one of the stages (so line 44)?",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "be7eda6f_c9f722c5",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "It feels more whole-file to me; this is why the script is structured this way.  OK to leave it here?",
      "parentUuid": "d1677b70_5f23004b",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "503632ba_c4042607",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "Probably want to cd to the dir of the script first so that if someone also wants to run `./llvm-project/busytown-build.sh` that can also work\n\nFor example, `cd \"$(dirname $0)\"`",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c92b9b96_2b874e42",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "503632ba_c4042607",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01727753_f755d382",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "Is this going to be running on a continuous integration server? If so we usually use `OUT_DIR` as the name of the variable that specifies where to put transient files, and `DIST_DIR` as the name of the variable that specifies where to put. We should use the path specified by the build server but having a default if unset is good too\n\nhttps://android.googlesource.com/platform/frameworks/support/+/46771da284c79d77e6e969956da27ebd33d44c23/busytown/impl/build.sh#11",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "475a72c1_5351ba2b",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Nice, this was something I was confused about.  Thanks!",
      "parentUuid": "01727753_f755d382",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97bc10bc_899d8659",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "it could be easier to notice how much of the script is referenced by a particular comment if the corresponding section gets extracted into a function\n\nExample function: https://android.googlesource.com/platform/frameworks/support/+/46771da284c79d77e6e969956da27ebd33d44c23/busytown/impl/build-studio-and-androidx.sh#39",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "56b3cefd_7efcdd99",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "97bc10bc_899d8659",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "701330fd_5f4ebbdc",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "Does this require ninja installed on the system? Can we use a prebuilt?",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce18638c_4dda00bd",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Added a comment.  This was added to the PATH with the PATH statement above (because that\u0027s how cmake insists on working).",
      "parentUuid": "701330fd_5f4ebbdc",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b928ece_510b2c0e",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T20:54:38Z",
      "side": 1,
      "message": "It looks like this is adding ninja to the end of the path rather than the beginning, so if there is a ninja installed already then I think it would be used first. I guess that if this works though then that\u0027s probably ok.\n\nIt could be nice to replace this line with a reference to the prebuilt ninja to make it easier for readers to verify that it\u0027s using a prebuilt",
      "parentUuid": "ce18638c_4dda00bd",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b48aef68_e063bf21",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-12T16:50:14Z",
      "side": 1,
      "message": "Yeah, good point (similar to srhines above).  Fixed.",
      "parentUuid": "6b928ece_510b2c0e",
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a482dbf_ce5e6292",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "Maybe clearer to say \"using the compiler we just built\"?",
      "range": {
        "startLine": 67,
        "startChar": 18,
        "endLine": 67,
        "endChar": 32
      },
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94878c3e_67985444",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3a482dbf_ce5e6292",
      "range": {
        "startLine": 67,
        "startChar": 18,
        "endLine": 67,
        "endChar": 32
      },
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ed67c7f_0ab5c7b4",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2021-11-10T19:19:58Z",
      "side": 1,
      "message": "Is this hard to verify?",
      "range": {
        "startLine": 77,
        "startChar": 20,
        "endLine": 77,
        "endChar": 31
      },
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "883a48e8_0e54fe6c",
        "filename": "busytown-build.sh",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1060413
      },
      "writtenOn": "2021-11-10T20:39:47Z",
      "side": 1,
      "message": "Left a citation.",
      "parentUuid": "5ed67c7f_0ab5c7b4",
      "range": {
        "startLine": 77,
        "startChar": 20,
        "endLine": 77,
        "endChar": 31
      },
      "revId": "6eedb81a4d06b2157a288ba0dda93cdeffd2a868",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}